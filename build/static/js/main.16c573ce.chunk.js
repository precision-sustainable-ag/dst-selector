(this["webpackJsonpdecision-support-tool"]=this["webpackJsonpdecision-support-tool"]||[]).push([[0],{73:function(e,t,a){e.exports=a(91)},78:function(e,t,a){},79:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),s=a.n(o),l=(a(78),a(79),a(139)),c=a(127),i=a(129),d=a(130),m=a(124),u=Object(m.a)((function(e){return{footer:{position:"absolute",bottom:0,backgroundColor:"#598445",width:"100%",height:"5%",maxHeight:"5%"},textButton:{},surface:{backgroundColor:"rgba(0, 0, 0, 0)"}}}));var p=function(){var e=u();return r.a.createElement("footer",{className:e.footer},r.a.createElement(c.a,{maxWidth:"xl"},r.a.createElement(i.a,{container:!0,alignItems:"center"},r.a.createElement(l.a,{flexGrow:1},r.a.createElement("p",null,"Disclaimer: Actual cover crop performance may vary. Consult an"," ",r.a.createElement("a",{href:"http://placehold.it/1000x1000",style:{color:"#fff"}},"NRCS Extension Educator")," ","for detailed guidance.")),r.a.createElement(l.a,null,r.a.createElement(d.a,{href:"https://open-source.org/",style:{paddingRight:"50px",color:"#000"}},"OPEN SOURCE"),r.a.createElement(d.a,{href:"https://google.com/",style:{paddingRight:"50px",color:"#000"}},"CONTACT US"),r.a.createElement(d.a,{href:"https://google.com",style:{paddingRight:"50px",color:"#000"}},"2019")))))},g=a(23),h=a(18),f=a(28),E=a(29),v=a(32),C=(a(83),a(131)),b=function(e){function t(){var e;Object(g.a)(this,t),e=Object(f.a)(this,Object(E.a)(t).call(this));var a=new Date,n=[];n[0]="January",n[1]="February",n[2]="March",n[3]="April",n[4]="May",n[5]="June",n[6]="July",n[7]="August",n[8]="September",n[9]="October",n[10]="November",n[11]="December";var r=n[a.getMonth()];return e.state={date:"".concat(r," ").concat(a.getDate(),", ").concat(a.getFullYear())},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.state.date}}]),t}(n.Component),k=(a(84),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).flag=!1,a.checkIfWellUpdated=function(){void 0===a.props.wellState?(console.log("undefined"),a.flag=!1):void 0===a.props.wellState.address||"stepperState"===a.props.wellState?(a.flag=!1,console.log("address undefined")):a.flag=!0},a.locationIcon=function(e,t){return r.a.createElement("svg",{width:e,height:t,viewBox:"0 0 14 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M7 0C3.13 0 0 3.13 0 7C0 12.25 7 20 7 20C7 20 14 12.25 14 7C14 3.13 10.87 0 7 0ZM7 9.5C5.62 9.5 4.5 8.38 4.5 7C4.5 5.62 5.62 4.5 7 4.5C8.38 4.5 9.5 5.62 9.5 7C9.5 8.38 8.38 9.5 7 9.5Z",fill:"white"}))},a.zoneIcon=function(e,t){return r.a.createElement("svg",{height:t,width:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM6 15.5C4.62 15.5 3.5 14.38 3.5 13C3.5 11.62 4.62 10.5 6 10.5C7.38 10.5 8.5 11.62 8.5 13C8.5 14.38 7.38 15.5 6 15.5ZM7.5 6C7.5 4.62 8.62 3.5 10 3.5C11.38 3.5 12.5 4.62 12.5 6C12.5 7.38 11.38 8.5 10 8.5C8.62 8.5 7.5 7.38 7.5 6ZM14 15.5C12.62 15.5 11.5 14.38 11.5 13C11.5 11.62 12.62 10.5 14 10.5C15.38 10.5 16.5 11.62 16.5 13C16.5 14.38 15.38 15.5 14 15.5Z",fill:"white"}))},a.formattedAddress=function(){var e=a.props.wellState.address.toString().substring(0,19);return r.a.createElement("div",{className:"addressBar"},r.a.createElement(C.a,{size:"small"},a.locationIcon(20,20),"\xa0 ",e))},a.formatterZone=function(){return r.a.createElement("div",{className:"zoneBar"},r.a.createElement(C.a,{size:"small"},a.zoneIcon(20,20),"\xa0 Plant Hardiness ",a.props.wellState.zoneText))},console.log(a.props.wellState),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(){this.checkIfWellUpdated()}},{key:"render",value:function(){return r.a.createElement("div",{className:"greenBarContainer"},!0===this.flag&&"Enter Address"!==this.props.wellState.address?this.formattedAddress():"",!0===this.flag&&void 0!==this.props.wellState.zoneText?this.formatterZone():"")}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).setProgressBackground=function(){return a.progressInterval=setInterval((function(){var e=localStorage.getItem("stepperState");"stepperState"===(e=JSON.parse(e))||""===e?a.setState({progress:2}):isNaN(e.progress)||a.setState({progress:2}),a.state.progress&&document.getElementsByClassName("itemButton".concat(a.state.progress))[0].classList.add("active"),a.setState({wellState:e})}),100),a.progressInterval},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setProgressBackground()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressInterval)}},{key:"render",value:function(){"url(".concat(this.props.logoPath,")");return r.a.createElement("header",null,r.a.createElement("div",{className:"topHeader"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:""},"ABOUT")),r.a.createElement("li",null,r.a.createElement("a",{href:""},"NECCC")),r.a.createElement("li",null,r.a.createElement("a",{href:""},"USDA NRCS")),r.a.createElement("li",null,r.a.createElement("a",{href:""},"NE SARE")),r.a.createElement("li",null,r.a.createElement("a",{href:""},"HELP")),r.a.createElement("li",null,r.a.createElement("a",{href:""},"FEEDBACK")))),r.a.createElement("div",{className:"bottomHeader"},r.a.createElement("section",null,r.a.createElement("div",{className:"logoContainer"},r.a.createElement("img",{src:this.props.logoPath})),r.a.createElement("div",null,r.a.createElement(b,null))),r.a.createElement("ul",null,r.a.createElement(C.a,{size:"large",className:"listitemButton itemButton1"},"COVER CROP EXPLORER"),r.a.createElement(C.a,{size:"large",className:"listitemButton itemButton2"},"SPECIES SELECTOR"),r.a.createElement(C.a,{size:"large",className:"listitemButton itemButton3"},"MIX MAKER"),r.a.createElement(C.a,{size:"large",className:"listitemButton itemButton4"},"SEED RATE CALCULATOR"),r.a.createElement(C.a,{size:"large",className:"listitemButton itemButton5"},"MY COVER CROP LIST"))),r.a.createElement(k,this.state))}}]),t}(n.Component),w=a(142),S=a(148),x=a(138),O=a(149),N=(a(85),a(14)),z=a.n(N),A=(a(86),a(132)),B=a(133),T=a(134),j=a(144),M=a(140),P=a(146),I=a(147),R=a(143),Z=a(4);delete z.a.Icon.Default.prototype._getIconUrl,z.a.Icon.Default.mergeOptions({iconRetinaUrl:a(87),iconUrl:a(88),shadowUrl:a(89)});var L=Object(Z.a)({root:{backgroundColor:"#e3f2f4",borderRadius:"20px",color:"#000",padding:"10px 20px 10px 20px","&:hover":{backgroundColor:"#48a8ab",color:"#fff"}}})(C.a),W=function(e){function t(){var e;return Object(g.a)(this,t),(e=Object(f.a)(this,Object(E.a)(t).call(this))).myMap=r.a.createRef(),e.queryGEORevAPI=function(t,a){fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(t,"&lon=").concat(a,"&format=json"),{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(t){var a=t.display_name;e.setZoneState(t.address.postcode),e.setState({address:a,addressVerified:!0})}))},e.setZoneState=function(t){console.log(t),fetch("https://phzmapi.org/".concat(t,".json"),{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(e){var t=0;return null!==e&&void 0!==e?(t=e.zone.length>1?e.zone.charAt(0):e.zone,parseInt(t)):7})).then((function(t){t<=7&&t>1?2===t||3===t?e.setState({zoneText:"Zone 2 & 3"}):e.setState({zoneText:"Zone ".concat(t)}):e.setState({zoneText:"Zone 7"})}))},e.addMarker=function(t){var a=e.state.markers;a.pop(),a.push(t.latlng),e.setState({markers:a});var n=a[0].lng,r=a[0].lat;e.queryGEORevAPI(r,n)},e.handleSnackClose=function(){e.setState({snackOpen:!1,snackMessage:""})},e.handleMapClick=function(e){var t=e.latlng,a=t.lat,n=t.long;console.log("Clicked at ".concat(a,", ").concat(n))},e.handleAddressChangeByText=function(t){e.setState({address:t.target.value,showAddressChangeBtn:!0})},e.getZipByLatLong=function(){},e.updateAddressOnClick=function(){var t=e.state.address;fetch("https://nominatim.openstreetmap.org/search/?q=".concat(t,"&format=json"),{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(t){console.log(t),1===t.length?e.setState({markers:[[t[0].lat,t[0].lon]],zoom:15,addressVerified:!0,address:t[0].display_name}):e.setState({address:"",addressVerified:!1,snackOpen:!0,snackMessage:"Please complete the address"})})).then((function(){e.setState({showAddressChangeBtn:!1})}))},e.renderProgress=function(){switch(e.state.progress){case 0:return r.a.createElement(i.a,{container:!0,align:"center",justify:"center",direction:"column",style:{backgroundImage:"url(/images/cover-crop-field.png)",backgroundSize:"cover",height:"75vh",backgroundRepeat:"no-repeat"}},r.a.createElement(i.a,{item:!0,style:{backgroundColor:"rgba(240,247,235,0.8)",width:"90%",margin:"0 auto",textAlign:"",padding:"6%"}},r.a.createElement("h1",null,"Welcome to the NECCC Cover Crop Decision Support Tool "),r.a.createElement("p",null,"You are currently interacting with a Beta version of the Cover Crop DSTs. The purpose of this interaction is so that we may gather feedback about the usability and usefulness of these tools."),r.a.createElement("p",null,"The cover crop data you will see has been created by the NECCC Data Verification Team of cover crop experts, the original MCCC species selector tool, a seeding rate calculator developd by NRCS NY, and several other data sources. Please note: these data are still being finalized by NECCC teams for each of the plant hardiness zones. The data shown are a preview and are yet to be finalized."," ")," ",r.a.createElement("p",{style:{fontWeight:"bold"}}," ","Thank you for your time and consideration. We look forward to your feedback and hope to build a pleasant cover crop tool experience for you to effectively select and manage your cover crops.")),r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,md:4}),r.a.createElement(i.a,{item:!0,style:{marginTop:"2%"},md:4},r.a.createElement(L,{onClick:function(){e.setWellProgress(1)}},"NEXT")),r.a.createElement(i.a,{item:!0,md:4})));case 1:return r.a.createElement(i.a,{container:!0,alignItems:"center",justify:"center",style:{marginTop:"5%"}},r.a.createElement(A.a,{children:2,cols:2,cellHeight:300,style:{backgroundColor:"rgba(255,255,255,1)",boxShadow:"rgb(136, 136, 136) 0px 0px 1px",width:"90%",margin:"0 auto",textAlign:"",padding:"20px"}},r.a.createElement(B.a,{item:!0,md:6},r.a.createElement("h1",null,"Where is your field located? "),r.a.createElement("p",null,"Select plant hardiness zone for least site specific results. Enter address or zip code for county-level specificity. For more specific results, mark out your field boundary in the map."),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(T.a,{variant:"outlined",style:{width:"40%"}},r.a.createElement(j.a,{id:"demo-simple-select-outlined-label",disabled:!0},"Plant Hardiness Zone"),r.a.createElement(M.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(){},disabled:!0},r.a.createElement(P.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(P.a,{value:0},"Zone 2 and 3"),r.a.createElement(P.a,{value:1},"Zone 4"),r.a.createElement(P.a,{value:2},"Zone 5"),r.a.createElement(P.a,{value:3},"Zone 6"),r.a.createElement(P.a,{value:4},"Zone 7"))),"\xa0\xa0",r.a.createElement(I.a,{value:""===e.state.address?"":e.state.address,id:"locationAddress",label:"Location",variant:"outlined",style:{width:"40%"},onChange:e.handleAddressChangeByText}),e.state.showAddressChangeBtn?r.a.createElement(L,{style:{marginLeft:"15px",marginTop:"5px"},onClick:e.updateAddressOnClick},"Update"):"")),r.a.createElement(B.a,{item:!0,md:6},r.a.createElement(w.a,{style:{height:"100%",width:"100%"},center:e.state.markers[0],zoom:e.state.zoom,minZoom:3,maxZoom:20,onClick:e.addMarker,ref:e.myMap},r.a.createElement(S.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?"}),e.state.markers.map((function(t,a){return r.a.createElement(x.a,{key:"marker-".concat(a),position:t},r.a.createElement(O.a,null,r.a.createElement("span",null,e.state.address)))}))))));case 2:return r.a.createElement("div",{style:{marginTop:"5%",backgroundColor:"rgba(255,255,255,1)",boxShadow:"rgb(136, 136, 136) 0px 0px 1px",width:"90%",margin:"0 auto",textAlign:"",padding:"20px"}},r.a.createElement(i.a,{container:!0,alignItems:"center",justify:"left",direction:"row",item:!0,style:{},md:12},r.a.createElement(A.a,{item:!0,md:6,style:{height:"170px"},children:2},r.a.createElement(B.a,{item:!0,md:3,style:{height:"100%",width:"50%"}},r.a.createElement(w.a,{style:{width:"100%",height:"100%"},center:e.state.markers[0],zoom:e.state.zoom,minZoom:14,maxZoom:20,onClick:e.addMarker,ref:e.myMap},r.a.createElement(S.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?"}),e.state.markers.map((function(t,a){return r.a.createElement(x.a,{key:"marker-".concat(a),position:t},r.a.createElement(O.a,null,r.a.createElement("span",null,e.state.address)))})))),r.a.createElement(B.a,{item:!0,md:9,style:{width:"50%"}},r.a.createElement("h2",null,"Location Details"),r.a.createElement("p",null,"Your cover crop recommendations will come from the Plant Hardiness"," ",void 0!==e.state.zoneText?"".concat(e.state.zoneText):""," ","NECCC Dataset"))),r.a.createElement(i.a,{item:!0,md:6})),r.a.createElement(i.a,{container:!0},r.a.createElement(A.a,{children:1,style:{marginTop:"20px",width:"100%"},spacing:32},r.a.createElement(B.a,{item:!0,md:12,style:{width:"100%"}},r.a.createElement(I.a,{value:e.state.address,style:{width:"100%"},disabled:!0})))));default:return"non handled case"}},e.progressBar=function(){return r.a.createElement(i.a,{container:!0,style:{marginTop:"2%",width:"90%"}},r.a.createElement(i.a,{item:!0,md:3}),r.a.createElement(i.a,{item:!0,md:6},r.a.createElement(L,{onClick:function(){e.setWellProgress(e.state.progress-1),e.setLocalStorage(e.state)}},"Back"),r.a.createElement(L,{onClick:function(){e.setWellProgress(e.state.progress+1),e.setLocalStorage(e.state)},style:{marginLeft:"5px"}},"NEXT")),r.a.createElement(i.a,{item:!0,md:3,style:{textAlign:"right"}},r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-track"}),r.a.createElement("div",{id:"step1",className:"progress-step",style:1!==e.state.progress?{backgroundColor:"#f0f7eb",color:"black"}:{backgroundColor:"#8abc62"}}),r.a.createElement("div",{id:"step2",className:"progress-step",style:2!==e.state.progress?{backgroundColor:"#f0f7eb",color:"black"}:{backgroundColor:"#8abc62"}}),r.a.createElement("div",{id:"step3",className:"progress-step",style:3!==e.state.progress?{backgroundColor:"#f0f7eb",color:"black"}:{backgroundColor:"#8abc62"}}),r.a.createElement("div",{id:"step4",className:"progress-step",style:4!==e.state.progress?{backgroundColor:"#f0f7eb",color:"black"}:{backgroundColor:"#8abc62"}}))),r.a.createElement(i.a,{container:!0,style:{width:"90%",margin:"0 auto"}},r.a.createElement(i.a,{item:!0,md:9}),r.a.createElement(i.a,{item:!0,md:3,style:{textAlign:"center"}},"Question ",e.state.progress," of 4")))},e.snackBar=function(){return r.a.createElement(R.a,{anchorOrigin:{vertical:e.state.snackVertical,horizontal:e.state.snackHorizontal},key:{vertical:e.state.snackVertical,horizontal:e.state.snackHorizontal},autoHideDuration:5e3,open:e.state.snackOpen,onClose:e.handleSnackClose,ContentProps:{"aria-describedby":"message-id"},message:e.state.snackMessage})},e.state={progress:0,address:"Enter Address",markers:[[35.78658905,-78.67144915505475]],showAddressChangeBtn:!1,zoom:13,addressVerified:!1,snackOpen:!1,snackVertical:"bottom",snackHorizontal:"center",snackMessage:""},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setLocalStorage("stepperState",this.state)}},{key:"setLocalStorage",value:function(e){localStorage.setItem("stepperState",JSON.stringify(e))}},{key:"setWellProgress",value:function(e){2===e?this.state.addressVerified?this.setState({progress:e}):this.setState({snackOpen:!0,snackMessage:"Please select a valid address first!"}):this.setState({progress:e}),console.log(e)}},{key:"isParent",value:function(){return 0===this.state.progress}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.renderProgress(),0!==this.state.progress?this.progressBar():"",this.snackBar())}}]),t}(n.Component),D="/images/neccc_wide_logo_color_web.jpg";var U=function(){return r.a.createElement(l.a,{component:"div"},r.a.createElement(y,{logoPath:"".concat(D)}),r.a.createElement(W,null),r.a.createElement(p,null))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(90);s.a.render(r.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");H?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):V(t,e)}))}}()}},[[73,1,2]]]);
//# sourceMappingURL=main.16c573ce.chunk.js.map